<Window x:Class="uchat.Views.SettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:converters="clr-namespace:uchat.Converters"
        mc:Ignorable="d"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent"
        ResizeMode="CanResizeWithGrip"
        Title="Uchat - Settings" 
        Height="700" 
        Width="800"
        WindowStartupLocation="CenterScreen">

    <Window.Resources>
        <converters:StringToBoolConverter x:Key="StringToBoolConverter"/>

        <Style x:Key="SettingsButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="#007AFF"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Height" Value="40"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="border" 
                                Background="{TemplateBinding Background}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#0056CC"/>
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter TargetName="border" Property="Background" Value="#CCCCCC"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="DangerButtonStyle" TargetType="Button" BasedOn="{StaticResource SettingsButtonStyle}">
            <Setter Property="Background" Value="#FF3B30"/>
            <Setter Property="Foreground" Value="White"/>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#D70015"/>
                </Trigger>
            </Style.Triggers>
        </Style>
    </Window.Resources>

    <Grid Background="{DynamicResource WindowBackgroundBrush}" MouseLeftButtonDown="Header_MouseLeftButtonDown">
        <Border Background="{DynamicResource ChatListBrush}" Margin="10" Padding="40">
            <Border.Effect>
                <DropShadowEffect BlurRadius="18" ShadowDepth="4" Color="#22000000" Opacity="0.18"/>
            </Border.Effect>
            <Border.BorderBrush>
                <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                    <GradientStop Color="#80FFFFFF" Offset="0"/>
                    <GradientStop Color="#20FFFFFF" Offset="1"/>
                </LinearGradientBrush>
            </Border.BorderBrush>
            <Border.BorderThickness>1.5</Border.BorderThickness>
            <ScrollViewer VerticalScrollBarVisibility="Auto">
                <StackPanel>
                    <TextBlock Text="Profile Settings"
                               FontSize="28"
                               FontWeight="Bold"
                               Foreground="#333333"
                               Margin="0,0,0,30"/>

                    <Border Background="White" Padding="25" Margin="0,0,0,20">
                        <Border.Effect>
                            <DropShadowEffect BlurRadius="18" ShadowDepth="4" Color="#22000000" Opacity="0.18"/>
                        </Border.Effect>
                        <Border.BorderBrush>
                            <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                <GradientStop Color="#80FFFFFF" Offset="0"/>
                                <GradientStop Color="#20FFFFFF" Offset="1"/>
                            </LinearGradientBrush>
                        </Border.BorderBrush>
                        <Border.BorderThickness>1.5</Border.BorderThickness>
                        <StackPanel>
                            <TextBlock Text="Profile"
                                       FontSize="20"
                                       FontWeight="Bold"
                                       Margin="0,0,0,20"/>

                            <StackPanel HorizontalAlignment="Center" Margin="0,0,0,20">
                                <Button x:Name="AvatarButton"
                                        Width="100"
                                        Height="100"
                                        Background="Transparent"
                                        BorderThickness="0"
                                        Click="AvatarButton_Click">
                                    <Grid>
                                        <Ellipse x:Name="AvatarCircle" 
                                                 Width="100" 
                                                 Height="100"
                                                 Stroke="#007AFF"
                                                 StrokeThickness="2">
                                            <Ellipse.Fill>
                                                <ImageBrush x:Name="AvatarImage" Stretch="UniformToFill"/>
                                            </Ellipse.Fill>
                                        </Ellipse>
                                        <Border Background="#80000000" 
                                                Width="100" 
                                                Height="30"
                                                VerticalAlignment="Bottom">
                                            <TextBlock Text="Change" 
                                                       Foreground="White" 
                                                       HorizontalAlignment="Center"
                                                       VerticalAlignment="Center"/>
                                        </Border>
                                    </Grid>
                                </Button>
                                <TextBlock Text="Click to change avatar" 
                                           FontSize="12" 
                                           Foreground="#666666"
                                           HorizontalAlignment="Center"
                                           Margin="0,5,0,0"/>
                            </StackPanel>

                            <StackPanel Margin="0,0,0,15">
                                <TextBlock Text="Name"
                                          Foreground="#666666"
                                          FontSize="14"
                                          FontWeight="Medium"
                                          Margin="0,0,0,5"/>
                                <TextBox x:Name="DisplayNameBox"
                                         FontSize="16"
                                         Padding="12"
                                         BorderBrush="#E0E0E0"
                                         BorderThickness="1"
                                         Background="#FAFAFA"/>
                            </StackPanel>

                            <StackPanel Margin="0,0,0,15">
                                <TextBlock Text="Username"
                                          Foreground="#666666"
                                          FontSize="14"
                                          FontWeight="Medium"
                                          Margin="0,0,0,5"/>
                                <TextBox x:Name="UsernameBox"
                                         FontSize="16"
                                         Padding="12"
                                         BorderBrush="#E0E0E0"
                                         BorderThickness="1"
                                         Background="#FAFAFA"/>
                            </StackPanel>

                            <StackPanel Margin="0,0,0,20">
                                <TextBlock Text="Profile info"
                                          Foreground="#666666"
                                          FontSize="14"
                                          FontWeight="Medium"
                                          Margin="0,0,0,5"/>
                                <TextBox x:Name="ProfileInfoBox"
                                         FontSize="14"
                                         Padding="12"
                                         BorderBrush="#E0E0E0"
                                         BorderThickness="1"
                                         Background="#FAFAFA"
                                         Height="60"
                                         TextWrapping="Wrap"
                                         AcceptsReturn="True"/>
                            </StackPanel>

                            <Button x:Name="SaveButton"
                                    Content="Save changes"
                                    Style="{StaticResource SettingsButtonStyle}"
                                    HorizontalAlignment="Right"
                                    Width="200"
                                    Click="SaveButton_Click"/>
                        </StackPanel>
                    </Border>

                    <Border Background="White" Padding="25" Margin="0,0,0,20">
                        <Border.Effect>
                            <DropShadowEffect BlurRadius="18" ShadowDepth="4" Color="#22000000" Opacity="0.18"/>
                        </Border.Effect>
                        <Border.BorderBrush>
                            <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                <GradientStop Color="#80FFFFFF" Offset="0"/>
                                <GradientStop Color="#20FFFFFF" Offset="1"/>
                            </LinearGradientBrush>
                        </Border.BorderBrush>
                        <Border.BorderThickness>1.5</Border.BorderThickness>
                        <StackPanel>
                            <TextBlock Text="Theme"
                                       FontSize="20"
                                       FontWeight="Bold"
                                       Margin="0,0,0,15"/>

                            <StackPanel HorizontalAlignment="Center">
                                <RadioButton x:Name="LatteThemeRadio"
                                             Content="Latte"
                                             GroupName="Theme"
                                             Margin="0,10,0,0"
                                             FontSize="14"
                                             Foreground="#333333"
                                             Checked="ThemeRadioButton_Checked"/>

                                <RadioButton x:Name="MatchaThemeRadio"
                                             Content="Matcha"
                                             GroupName="Theme"
                                             Margin="0,10,0,0"
                                             FontSize="14"
                                             Foreground="#333333"
                                             Checked="ThemeRadioButton_Checked"/>

                                <RadioButton x:Name="OceanBreezeThemeRadio"
                                             Content="Ocean Breeze"
                                             GroupName="Theme"
                                             Margin="0,10,0,0"
                                             FontSize="14"
                                             Foreground="#333333"
                                             Checked="ThemeRadioButton_Checked"/>

                                <RadioButton x:Name="DeepSpaceThemeRadio"
                                             Content="Deep Space"
                                             GroupName="Theme"
                                             Margin="0,10,0,0"
                                             FontSize="14"
                                             Foreground="#333333"
                                             Checked="ThemeRadioButton_Checked"/>

                                <RadioButton x:Name="WarmGlowThemeRadio"
                                             Content="Warm Glow"
                                             GroupName="Theme"
                                             Margin="0,10,0,0"
                                             FontSize="14"
                                             Foreground="#333333"
                                             Checked="ThemeRadioButton_Checked"/>

                                <RadioButton x:Name="NorthernColdThemeRadio"
                                             Content="Northern Cold"
                                             GroupName="Theme"
                                             Margin="0,10,0,0"
                                             FontSize="14"
                                             Foreground="#333333"
                                             Checked="ThemeRadioButton_Checked"/>
                            </StackPanel>
                        </StackPanel>
                    </Border>

                    <StackPanel Margin="0,20,0,0">
                        <Button x:Name="DeleteAccountButton"
                                Content="Delete account"
                                Style="{StaticResource DangerButtonStyle}"
                                Height="45"
                                Click="DeleteAccountButton_Click"/>
                    </StackPanel>

                    <Button x:Name="CloseButton"
                            Content="Close"
                            Style="{StaticResource SettingsButtonStyle}"
                            Background="Transparent"
                            Foreground="#666666"
                            BorderBrush="#E0E0E0"
                            BorderThickness="1"
                            Margin="0,30,0,0"
                            HorizontalAlignment="Center"
                            Width="100"
                            Click="CloseButton_Click"/>
                </StackPanel>
            </ScrollViewer>
        </Border>

        <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Top" Margin="0,15,15,0">
            <Button Style="{DynamicResource RoundButtonStyle}"
                    Background="#FF5F56"
                    Click="WindowCloseButton_Click">
                <Path Data="M192,64.34L179.66,52,128,103.66,76.34,52,64,64.34,115.66,116,64,167.66,76.34,180,128,128.34,179.66,180,192,167.66,140.34,116Z"
                      Fill="Black" Stretch="Uniform" Width="8" Height="8"/>
            </Button>

            <Button Style="{DynamicResource RoundButtonStyle}"
                    Background="#FFBD2E" 
                    Click="WindowMinimizeButton_Click"
                    Margin="5,0,0,0">
                <Path Data="M216,128a8,8,0,0,1-8,8H48a8,8,0,0,1,0-16H208A8,8,0,0,1,216,128Z"
                      Fill="Black" Stretch="Uniform" Width="8" Height="8"/>
            </Button>
        </StackPanel>
    </Grid>
</Window>
